@model AnnApp.Models.Ann

@{
    ViewBag.Title = "Index";
}

<!--
<div id="sortSearchBar">
    @*
    @using (Ajax.BeginForm("BuildAnnTableSortSearch", "Anns",
                new AjaxOptions
                {
                    InsertionMode = InsertionMode.Replace,
                    HttpMethod = "POST",
                    UpdateTargetId = "tableDiv"
                }))
        *@
    {
        <p>Filter By: </p>
        <input type="text" name="Title" />
        <input type="text" name="Content" />
        <input type="datetime" name="PostDate" />
        <input type="submit" value="Filter" />
    }
</div>
-->


<div id="filterByBar">
    <p>Filter By: </p>
    <text>Title </text>
    <input type="text" id="filterTitle" name="filter" />
    <text>Content </text>
    <input type="text" id="filterContent" name="filter" />
    <text>Post Date</text>
    <input type="datetime" id="filterPostDate" name="filter" />
    <p></p>
</div>

<div id="orderByBar">
    <p>Order By: </p>
    <form id="myform">
            <input type="radio" name="sort" value="Title">Title<br>
            <input type="radio" name="sort" value="Content">Content<br>
            <input type="radio" name="sort" value="PostDate">Post Date
    </form>
</div>

<p id="annTitle">Announcements:</p>
<div id="tableDiv"></div>

@if (ViewBag.Name == "Professor")
{
<p id="createAnnTitle">Create Announcement:</p>
<div id="annCreateForm">
    @using (Ajax.BeginForm("AJAXCreate", "Anns",
                        new AjaxOptions
                        {
                            InsertionMode = InsertionMode.Replace,
                            HttpMethod = "POST",
                            UpdateTargetId = "tableDiv"
                        }
                    ))
    {
        <div class="form-horizontal">
            <div class="form-group">
                @Html.AntiForgeryToken()
                @Html.LabelFor(model => model.Title, htmlAttributes: new { @class = "control-label col-md-2" })
                <div>
                    @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Content, htmlAttributes: new { @class = "control-label col-md-2" })
                <div>
                    @Html.EditorFor(model => model.Content, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Content, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.PostDate, htmlAttributes: new { @class = "control-label col-md-2" })
                <div>
                    @Html.EditorFor(model => model.PostDate, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.PostDate, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <input type="submit" value="Create" />
    }
</div>
}

@*@Html.ActionLink("Create New", "Create")*@

@section Scripts {
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/Custom_Scripts/BuildTable.js"></script>
    @Scripts.Render("~/bundles/jqueryval")
}
